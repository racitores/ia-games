"use strict";(self.webpackChunkai_games=self.webpackChunkai_games||[]).push([[907],{907:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(43),c=n(601),i=n(579);const a=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(0),[a,o]=(0,r.useState)(!0),[l,s]=(0,r.useState)(!1),[d,h]=(0,r.useState)("derecha"),u=(0,r.useRef)({snake:[{x:7,y:7},{x:6,y:7},{x:5,y:7}],food:null,direction:"right",nextDirection:"right",gameInterval:null,blockSize:20,width:15,height:15,touchStartX:0,touchStartY:0,touchEndX:0,touchEndY:0,minSwipeDistance:30}),x=()=>{const e=u.current;e.snake=[{x:7,y:7},{x:6,y:7},{x:5,y:7}],e.direction="right",e.nextDirection="right",n(0),o(!0),s(!1),h("derecha"),b(),f()},b=()=>{const e=u.current;e.food={x:Math.floor(Math.random()*e.width),y:Math.floor(Math.random()*e.height)};for(let t of e.snake)if(t.x===e.food.x&&t.y===e.food.y)return b()},f=()=>{const t=e.current,n=t.getContext("2d"),r=u.current;n.fillStyle="#ecf0f1",n.fillRect(0,0,t.width,t.height),r.snake.forEach(((e,t)=>{n.fillStyle=0===t?"#2ecc71":"#27ae60",n.fillRect(e.x*r.blockSize,e.y*r.blockSize,r.blockSize,r.blockSize),n.strokeStyle="#1e8449",n.strokeRect(e.x*r.blockSize,e.y*r.blockSize,r.blockSize,r.blockSize)})),n.fillStyle="#e74c3c",n.fillRect(r.food.x*r.blockSize,r.food.y*r.blockSize,r.blockSize,r.blockSize),n.strokeStyle="#c0392b",n.strokeRect(r.food.x*r.blockSize,r.food.y*r.blockSize,r.blockSize,r.blockSize)},g=()=>{const e=u.current;("left"===e.nextDirection&&"right"!==e.direction||"right"===e.nextDirection&&"left"!==e.direction||"up"===e.nextDirection&&"down"!==e.direction||"down"===e.nextDirection&&"up"!==e.direction)&&(e.direction=e.nextDirection,(e=>{let t="";switch(e){case"left":t="izquierda";break;case"right":t="derecha";break;case"up":t="arriba";break;case"down":t="abajo"}h(t)})(e.direction));const t={x:e.snake[0].x,y:e.snake[0].y};switch(e.direction){case"left":t.x--;break;case"right":t.x++;break;case"up":t.y--;break;case"down":t.y++}if(t.x<0||t.x>=e.width||t.y<0||t.y>=e.height)k();else{for(let n=1;n<e.snake.length;n++)if(t.x===e.snake[n].x&&t.y===e.snake[n].y)return void k();e.snake.unshift(t),t.x===e.food.x&&t.y===e.food.y?(n((e=>e+10)),b()):e.snake.pop(),f()}},k=()=>{s(!0),clearInterval(u.current.gameInterval)},m=()=>{l&&x(),a?(o(!1),u.current.gameInterval=setInterval(g,200)):(clearInterval(u.current.gameInterval),x(),o(!1),u.current.gameInterval=setInterval(g,200))},y=()=>{a||l?a&&!l&&(u.current.gameInterval=setInterval(g,200),o(!1)):(clearInterval(u.current.gameInterval),o(!0))};return(0,r.useEffect)((()=>{const e=e=>{const t=u.current;switch(e.key){case"ArrowLeft":"right"!==t.direction&&(t.nextDirection="left");break;case"ArrowRight":"left"!==t.direction&&(t.nextDirection="right");break;case"ArrowUp":"down"!==t.direction&&(t.nextDirection="up");break;case"ArrowDown":"up"!==t.direction&&(t.nextDirection="down");break;case" ":y();break;case"Enter":(a||l)&&m()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[a,l]),(0,r.useEffect)((()=>(x(),()=>{u.current.gameInterval&&clearInterval(u.current.gameInterval)})),[]),(0,i.jsx)("div",{className:"w-full max-w-3xl mx-auto p-4",children:(0,i.jsxs)(c.Zp,{className:"mb-4",children:[(0,i.jsx)(c.aR,{className:"bg-blue-500 text-white",children:(0,i.jsx)(c.ZB,{className:"text-center text-2xl",children:"Juego de la Serpiente"})}),(0,i.jsxs)(c.Wu,{children:[(0,i.jsx)("div",{className:"text-center mb-4",children:(0,i.jsxs)("div",{className:"text-xl font-bold",children:["Puntuaci\xf3n: ",t]})}),(0,i.jsxs)("div",{className:"relative mx-auto border-2 border-gray-800 bg-gray-100",style:{width:"300px",height:"300px"},onTouchStart:e=>{const t=u.current;t.touchStartX=e.touches[0].clientX,t.touchStartY=e.touches[0].clientY},onTouchEnd:e=>{if(l||a)return;const t=u.current;t.touchEndX=e.changedTouches[0].clientX,t.touchEndY=e.changedTouches[0].clientY;const n=t.touchEndX-t.touchStartX,r=t.touchEndY-t.touchStartY;Math.abs(n)<t.minSwipeDistance&&Math.abs(r)<t.minSwipeDistance||(Math.abs(n)>Math.abs(r)?n>0&&"left"!==t.direction?t.nextDirection="right":n<0&&"right"!==t.direction&&(t.nextDirection="left"):r>0&&"up"!==t.direction?t.nextDirection="down":r<0&&"down"!==t.direction&&(t.nextDirection="up"))},onTouchMove:e=>e.preventDefault(),children:[(0,i.jsx)("canvas",{ref:e,width:300,height:300,className:"touch-none"}),l&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-80 text-white",children:(0,i.jsxs)("div",{className:"text-center p-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\xa1Juego Terminado!"}),(0,i.jsxs)("p",{className:"mb-4",children:["Tu puntuaci\xf3n final: ",t]}),(0,i.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Jugar de nuevo"})]})})]}),(0,i.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,i.jsx)("button",{onClick:m,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:a?"Iniciar Juego":"Reiniciar"}),(0,i.jsx)("button",{onClick:y,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",disabled:l,children:a?"Continuar":"Pausar"})]}),(0,i.jsx)("div",{className:"mt-4 p-3 bg-gray-100 rounded text-center",children:(0,i.jsxs)("p",{children:["Desliza el dedo en la pantalla para cambiar la direcci\xf3n.",(0,i.jsx)("br",{}),"Direcci\xf3n actual:"," ",(0,i.jsx)("span",{className:"font-bold text-blue-500",children:d})]})})]})]})})}}}]);
//# sourceMappingURL=907.47ed1fde.chunk.js.map